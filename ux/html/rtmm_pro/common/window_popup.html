<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <link type="text/css" href="../css/G.css" rel="Stylesheet" />
    <script src="../js/jquery-1.7.1.js" type="text/javascript"></script>
    <script src="../js/rtmm.js" type="text/javascript"></script>
    <style type="text/css">
        .Table_Panel {
            height:60px;
            overflow:hidden;
        }
    </style>
    <script type="text/javascript">
        function openPopup(pop_id, width, height) {

            var $layer = $("#grid_layer");
            var w = $(document).width();
            var h = $(document).height();
            $layer.css({"width":w,"height":h,"display":"block"});

            var $pop = $("#" + pop_id);
            var $Table_Panel = $("#" + pop_id + " .Table_Panel");//set height

            if (height != '' && height != undefined) {
                $Table_Panel.css("height", height);
            } else {
                height = 60;
            }
            if (width != '' && width != undefined) {
                $pop.css({ "width": width + 'px' });
            } else {
                width = 600;
            }
            var win_x = ($(window).width() - width) / 2;//随着浏览器的变化而变化，而且不计算滚动条
            var win_y = ($(window).height() - (Number(height) + 60)) / 2 + $(window).scrollTop();
            //防止为负值时，弹窗头部看不到，或弹窗左侧看不到
            if (win_x < 0) {
                win_x = 10;
            }
            if (win_y < 0) {
                win_y = 10;
            }
            $pop.css({ "display": "block", "z-index": "900", "position": "absolute", "top": win_y + 'px', "left": win_x + 'px' });

        }
        function closePopup(pop_id) {
            var $pop = $("#" + pop_id);
            $pop.css({ "display": "none" });
            var $layer = $("#grid_layer");
            $layer.css({ "display": "none" });
        }
        $(document).ready(function () {

            $("#pop").click(function () {
                var w = $("#w").val();
                var h = $("#h").val();
                openPopup("popup", w, h);
            });

        });
        $(".PanelClose,.PanelBtn2").live("click", function () {
            closePopup("popup");
        });
    </script>
</head>
<body>

    <div style="height:100px;">
        <div style="/*height:100%;*/width:4%;height:inherit; float:left;background:#00ff21"></div>
        <div style="height:100%;width:95%;float:left; background:#933232">
            <div style="height:40px;"></div>
            <div style="height:40px;background:#808080"></div>
            <div style="clear:both;"></div>
        </div>
        <div style="clear:both;"></div>
    </div>
<div>
    <div class="ig">
    <div class="msg_txt">width:</div><input id="w" type="text" class="inputText" /><span>默认值为500</span>
    </div>
    <div class="ig">
        <div class="msg_txt">height:</div><input id="h" type="text" class="inputText" /><span>默认值为60，这里额高度值得是显示内容区域的高度，不算弹窗的title和foot</span>
    </div>
    <div class="ig">
        <input type="button" value="popup" class="PanelBtn1" id="pop"/>
    </div>
</div>
<div id="popup" class="Panel" style="display:none;">
        <div class="Panel_top">
            <span class="alert_title">Message！</span>
            <div class="PanelClose"></div>
        </div>
        <div class="Table_Panel">
            <!--//具体内容--><input class="inputText" type="text" id="in" /><br />
            <input type="button" onclick="alert($('#in').val());"/>
        </div>
        <div class="Panel_footer">
            <div class="PanelBtn">
                <div class="PanelBtn1">确定</div>
                <div class="PanelBtn2">取消</div>
            </div>
        </div>
</div>
<div id="grid_layer"></div>
</body>
</html>
